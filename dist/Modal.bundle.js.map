{"version":3,"sources":["webpack:///./src/client/components/modal/modal.jsx","webpack:///./src/client/components/modal/carousel.jsx"],"names":["Modal","props","data","images","description","name","website","showModal","toggleModal","modal","e","stopPropagation","Component","getThree","arr","center","length","Carousel","state","animating","active","animationDuration","carouselWidth","carouselHeight","on","event","xClick","originalEvent","touches","pageX","one","xMove","Math","floor","slide","off","sliderStyles","width","height","overflow","padding","whiteSpace","sliderImageStyles","buttonStyles","cursor","outline","border","borderTop","slider","display","getRenderedImageSize","find","first","updateActive","len","operation","$images","marginChange","newActive","prepend","append","setState","animate","marginLeft","remove","last"],"mappings":"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","file":"Modal.bundle.js","sourcesContent":["import React, { Component } from 'react'\nimport Carousel from './carousel.jsx'\nimport $ from 'jquery'\n\nexport default class Modal extends Component {\n  render() {\n    const { data: {images, description, name, website = ''}, showModal, toggleModal} = this.props\n    return (\n      showModal ? <div id=\"modal\" ref={modal => this.modal = modal} onClick={e => this.props.toggleModal(0)}>\n      <div id=\"modal-content\" onClick={e => e.stopPropagation()}>\n        <Carousel images={images} />\n        <div id=\"modal-content-description\">\n          <h1>{name}</h1>\n          <p>{description}</p>\n          <div id=\"website-button\">{website ? <a href={website}>Website</a> : ''}</div> \n        </div> \n      </div>\n    </div> : ''\n    );\n  }\n}","import React, { Component } from 'react'\nimport $ from 'jquery'\n\nconst getThree = (arr, center) => {\n  return [arr[(center + arr.length - 1) % arr.length], arr[center], arr[(center + 1) % arr.length]]\n}\n\nexport default class Carousel extends Component {\n  constructor({images}) {\n    super()\n    this.state = {\n      images: getThree(images, 0), \n      animating: false,\n      active: 0,\n      animationDuration: 450,\n      carouselWidth: '100%',\n      carouselHeight: '65%'\n    }\n  }\n\n  //finds the three images, left of active, active and right of active currently\n  getRenderedImageSize = () => this.slider.find('img').first().width()\n\n  componentDidMount() {\n    //carousel swipe\n    $('.carousel').on('touchstart', (event) => {\n      var xClick = event.originalEvent.touches[0].pageX;\n      $('.carousel').one('touchmove', (event) => {\n      var xMove = event.originalEvent.touches[0].pageX;\n\n      if( Math.floor(xClick - xMove) > 5 ){\n          this.slide('-');\n      }\n      else if( Math.floor(xClick - xMove) < -5 ){\n          this.slide('+');\n      }\n    });\n\n      $(\".carousel\").on(\"touchend\", function(){\n        $(\".carousel\").off(\"touchmove\");\n      });\n    });\n  }\n\n  updateActive = operation => {\n    const len = this.props.images.length - 1\n    const { active } = this.state\n\n    if (operation === '-') return active === len ? 0 : active + 1\n    else return active === 0 ? len : active - 1;\n  }\n\n  slide = operation => {\n     if (!this.state.animating) {\n      const $images = this.slider.find('img')\n      const marginChange = this.getRenderedImageSize() + 'px'\n      const newActive = this.updateActive(operation);\n      const images = getThree(this.props.images, newActive);\n\n      //left button, slide is moving right\n      if (operation === '+') {\n        this.slider.prepend(`<img style=\"width: 100%; height: 100%; overflow: hidden; padding: 0; whiteSpace: nowrap; margin-left: -${marginChange}\" src=\"${images[0]}\"/>`);\n      }\n\n      //right button, slide is moving left\n      if (operation === '-') {\n        this.slider.append(`<img style=\"width: 100%; height: 100%; overflow: hidden; padding: 0; whiteSpace: nowrap\" src=\"${images[2]}\"/>`);\n      }\n\n      this.setState({animating: true}, () => {\n        //bug if not declare $images a second time\n        const $images = this.slider.find('img')\n        $images\n        .first()\n        .animate({marginLeft: `${operation}=${marginChange}`}, this.animationDuration, () => {\n          if(operation === '-') $images.first().remove();\n          if(operation === '+') $images.last().remove();\n          this.setState({active: newActive, images, animating: false})\n        })\n      })\n    }\n  }\n\n  render() {\n    const sliderStyles = {\n      width: '100%',\n      height: '100%',\n      overflow: 'hidden',\n      padding: 0,\n      whiteSpace: 'nowrap',\n    }\n\n    const sliderImageStyles = {\n      width: '100%',\n      height: '100%',\n    }\n\n    const buttonStyles = {\n      cursor: 'pointer',\n      outline: 0,\n      width: '50%',\n      padding: '10px 0',\n      border: 0,\n      borderTop: '3px pink solid'\n    }\n\n    const { images } = this.state\n\n    return (\n      <React.Fragment>\n        <div className=\"carousel\">\n          <div style={sliderStyles} ref={slider => this.slider = $(slider)} className=\"slider\">\n            <img style={sliderImageStyles} src={images[0]} />\n          </div>\n        </div>\n        <div style={{display: 'flex'}}>\n          <button id=\"left-button\" style={buttonStyles} onClick={() => this.slide('+')}><img src=\"assets/icons/left-arrow.svg\"></img></button>\n          <button id=\"right-button\" style={buttonStyles} onClick={() => this.slide('-')}><img src=\"assets/icons/right-arrow.svg\"></img></button>\n        </div>\n      </React.Fragment>\n    );\n  }\n}"],"sourceRoot":""}