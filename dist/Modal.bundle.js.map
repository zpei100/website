{"version":3,"sources":["webpack:///./src/client/components/modal/modal.jsx","webpack:///./src/client/components/modal/carousel.jsx"],"names":["Modal","props","data","images","description","name","website","showModal","toggleModal","modal","e","stopPropagation","Component","getThree","arr","center","length","Carousel","getRenderedImageSize","slider","find","first","width","updateActive","len","active","state","operation","slide","animating","marginChange","setState","animate","marginLeft","animationDuration","newActive","css","carouselWidth","carouselHeight","on","event","xClick","originalEvent","touches","pageX","one","xMove","Math","floor","off","sliderStyles","height","overflow","padding","whiteSpace","background","carouselStyles","sliderImageStyles","buttonStyles","cursor","outline","border","borderTop","map","image","idx","display"],"mappings":"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","file":"Modal.bundle.js","sourcesContent":["import React, { Component } from 'react'\nimport Carousel from './carousel.jsx'\nimport $ from 'jquery'\n\nexport default class Modal extends Component {\n  render() {\n    const { data: {images, description, name, website = ''}, showModal, toggleModal} = this.props\n    return (\n      showModal ? <div id=\"modal\" ref={modal => this.modal = modal} onClick={e => this.props.toggleModal(0)}>\n      <div id=\"modal-content\" onClick={e => e.stopPropagation()}>\n        <Carousel images={images} />\n        <div id=\"modal-content-description\">\n          <h1>{name}</h1>\n          <p>{description}</p>\n          <div id=\"website-button\">{website ? <a href={website}>Website</a> : ''}</div> \n        </div> \n      </div>\n    </div> : ''\n    );\n  }\n}","import React, { Component } from 'react'\nimport $ from 'jquery'\n\nconst getThree = (arr, center) => {\n  return [arr[(center + arr.length - 1) % arr.length], arr[center], arr[(center + 1) % arr.length]]\n}\n\nexport default class Carousel extends Component {\n  constructor({images}) {\n    super()\n    this.state = {\n      images: getThree(images, 0), \n      animating: false,\n      active: 0,\n      animationDuration: 450,\n      carouselWidth: '100%',\n      carouselHeight: '65%'\n    }\n  }\n\n  getRenderedImageSize = () => this.slider.find('img').first().width()\n\n  componentDidMount() {\n    this.slider\n      .find('img')\n      .first()\n      .css({marginLeft: `-${this.getRenderedImageSize()}px`});\n\n    $(\".carousel\").on(\"touchstart\", (event) => {\n      var xClick = event.originalEvent.touches[0].pageX;\n      $(\".carousel\").one(\"touchmove\", (event) => {\n      var xMove = event.originalEvent.touches[0].pageX;\n\n      if( Math.floor(xClick - xMove) > 5 ){\n          this.slide('-');\n      }\n      else if( Math.floor(xClick - xMove) < -5 ){\n          this.slide('+');\n      }\n    });\n\n      $(\".carousel\").on(\"touchend\", function(){\n        $(\".carousel\").off(\"touchmove\");\n      });\n    });\n  }\n\n  updateActive = operation => {\n    const len = this.props.images.length - 1\n    const { active } = this.state\n\n    if (operation === '-') return active === len ? 0 : active + 1\n    else return active === 0 ? len : active - 1;\n  }\n\n  slide = operation => {\n     if (!this.state.animating) {\n      const marginChange = this.getRenderedImageSize() + 'px'\n      this.setState({animating: true}, () => {\n        this.slider\n          .find('img')\n          .first()\n          .animate({marginLeft: `${operation}=${marginChange}`}, this.animationDuration, () => {\n            const newActive = this.updateActive(operation)\n            this.setState({active: newActive, images: getThree(this.props.images, newActive), animating: false}, () => {\n              this.slider.find('img').first().css({marginLeft: `-${marginChange}`})\n          })\n        })\n      })\n    }\n  }\n\n  render() {\n    const sliderStyles = {\n      width: '100%',\n      height: '100%',\n      overflow: 'hidden',\n      padding: 0,\n      whiteSpace: 'nowrap',\n      background: 'white'\n    }\n\n    const carouselStyles = {\n      // width: this.state.carouselWidth,\n      // minWidth: this.state.carouselWidth,\n      // height: '50vh'\n    }\n\n    const sliderImageStyles = {\n      width: '100%',\n      height: '100%',\n      \n    }\n\n    const buttonStyles = {\n      cursor: 'pointer',\n      outline: 0,\n      width: '50%',\n      padding: '10px 0',\n      border: 0,\n      borderTop: '3px pink solid'\n\n    }\n\n    const { images } = this.state\n\n    return (\n      <React.Fragment>\n        <div className=\"carousel\" style={carouselStyles}>\n          <div style={sliderStyles} ref={slider => this.slider = $(slider)} className=\"slider\">\n            {images.map((image, idx) => <img key={`image-${idx}`} style={sliderImageStyles} src={image} />)}\n          </div>\n        </div>\n        <div style={{display: 'flex'}}>\n          <button id=\"left-button\" style={buttonStyles} onClick={() => this.slide('+')}><img src=\"assets/icons/left-arrow.svg\"></img></button>\n          <button id=\"right-button\" style={buttonStyles} onClick={() => this.slide('-')}><img src=\"assets/icons/right-arrow.svg\"></img></button>\n        </div>\n      </React.Fragment>\n    );\n  }\n}"],"sourceRoot":""}